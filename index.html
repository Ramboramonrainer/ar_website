
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR_Test
    </title>   
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/webxr/VRButton.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <header>
    <H2 class="headline">Claydream Run</H2>
  </header>
  <body>
    <article>
    <p>
      Als Kind war ich hauptsächlich mit Tagträumen beschäftigt, bei jeder Fahrt ob mit Zug oder Bus <br>
      hab ich in die Ferne gestarrt. Tagtäglich hab ich mir vorbeiziehende Gebäude und Landschaften angeschaut <br>
      und mir vorgestellt wie eine Figur die Horizontlinie entlang läuft, und von Gebäude zu Gebäude springt, und <br>
      mit mir mitläuft. Ich fragte mich ob das nur mir als Kind so ging oder ob es eine kollektive Erfahrung ist. <br>
      Es stellte sich heraus, es ist nicht so kollektiv wie ich gedacht habe, sodass ich hier dieses Tool gebaut habe <br>
      um diese Erfahrung zu teilen. <br>
      Viel Spaß!
    </p>
  </article>
  <div class="model-viewer">
    <!-- Hier neue 3D dateien Verknüpfen-->
  <model-viewer 
                src="dude.glb"
                ios-src="dude.usdz"
                alt="running dude"
                ar
                ar-tracking="motion"
                camera-controls
                ar-modes="webxr scene-viewer quick-look" 
                environment-image="neutral"
                autoplay
                >   
  </model-viewer>
</div>
   <!-- script zum doppelchecken ob das überhaupt funktioniert mit Endgerät -->  
 <script>
        async function checkARCoreCompatibility() {
            const modelViewer = document.getElementById('model-viewer');
            const isARCoreSupported = await navigator.xr.isSessionSupported('immersive-ar');
            if (!isARCoreSupported) {
                modelViewer.removeAttribute('ar');
                modelViewer.removeAttribute('ar-modes');
                alert('Your device is not compatible with AR features. You can still view the 3D model.');
            }
        }

        document.addEventListener('DOMContentLoaded', checkARCoreCompatibility);
    </script> 

<script src="app.js">
  import * as THREE from 'three';
import { VRButton } from 'three/examples/jsm/webxr/VRButton.js';

// Szene, Kamera und Renderer erstellen
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.01, 20);
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.xr.enabled = true;
document.body.appendChild(renderer.domElement);
document.body.appendChild(VRButton.createButton(renderer));

// Licht hinzufügen
const light = new THREE.HemisphereLight(0xffffff, 0xbbbbff, 1);
light.position.set(0.5, 1, 0.25);
scene.add(light);

// 3D-Modell erstellen (z. B. eine Box als Platzhalter)
const geometry = new THREE.BoxGeometry(0.2, 0.2, 0.2);
const material = new THREE.MeshStandardMaterial({ color: 0x0077ff });
const cube = new THREE.Mesh(geometry, material);
scene.add(cube);

// Positioniere das Modell vor der Kamera
cube.position.set(0, 0, -1); // 1 Meter vor der Kamera

// Animationsschleife
function animate() {
  renderer.setAnimationLoop(() => {
    renderer.render(scene, camera);
  });
}

animate();
</script>
   </body>
</html>

